--- samtools/Makefile
+++ samtools/Makefile
@@ -5,7 +5,7 @@
 VERSION=

 CC=			gcc
-CFLAGS=		-g -Wall $(VERSION) -O2
+CFLAGS=		-g -Wall $(VERSION) -O2 -L${PREFIX}/lib -I${PREFIX}/include
 #LDFLAGS=		-Wl,-rpath,\$$ORIGIN/../lib
 DFLAGS=		-D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -D_USE_KNETFILE -D_CURSES_LIB=1
 KNETFILE_O=	knetfile.o
@@ -18,10 +18,10 @@ AOBJS=		bam_tview.o bam_plcmd.o sam_view.o \
 			cut_target.o phase.o bam2depth.o padding.o bedcov.o bamshuf.o \
 			bam_tview_curses.o bam_tview_html.o
 PROG=		samtools
-INCLUDES=	-I.
+INCLUDES=	-I. -I${PREFIX}/include -I${PREFIX}/include/ncurses
 SUBDIRS=	. bcftools misc
-LIBPATH=
-LIBCURSES=	-lcurses # -lXCurses
++LIBPATH=	-L${PREFIX}/lib
++LIBCURSES=	-lncurses -ltinfo # -lXCurses


 .SUFFIXES:.c .o
--- samtools/misc/Makefile
+++ samtools/misc/Makefile
@@ -1,11 +1,11 @@
 CC=			gcc
 CXX=		g++
-CFLAGS=		-g -Wall -O2 #-m64 #-arch ppc
+CFLAGS=		-g -Wall -O2 -I${PREFIX}/include -L${PREFIX}/lib #-m64 #-arch ppc
 CXXFLAGS=	$(CFLAGS)
 DFLAGS=		-D_FILE_OFFSET_BITS=64
 OBJS=
 PROG=		md5sum-lite md5fa maq2sam-short maq2sam-long ace2sam wgsim bamcheck
-INCLUDES=	-I..
+INCLUDES=	-I.. -I${PREFIX}/include
 SUBDIRS=	.

 .SUFFIXES:.c .O2
 